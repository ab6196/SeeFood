{"ast":null,"code":"var _jsxFileName = \"/Users/ab/Desktop/Semester 4/CMPE 272/cmpe272-Food Recognition and Restaurant Recommendation/frontEnd/src/components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport logo from '../homepageImage.jpg';\n\nclass Home extends Component {\n  //call the constructor method\n  constructor(props) {\n    // Call the constructor of Super class i.e The Component\n    super(props);\n\n    this.uploadFile = e => {\n      e.preventDefault();\n      document.getElementById('getFile').click();\n    };\n\n    this.onChange = async e => {\n      if (e.target.name == 'selectedFile') {\n        console.log(e.target.files);\n        this.setState({\n          selectedFile: e.target.files[0],\n          foodPic: URL.createObjectURL(e.target.files[0])\n        }, async () => {\n          const selectedFile = this.state.selectedFile;\n          let formData = new FormData();\n          formData.append('selectedFile', selectedFile);\n          console.log(\"selectedFile file\", this.state.selectedFile);\n          console.log(\"image file\", formData);\n          axios.defaults.withCredentials = true;\n          await axios.post('http://localhost:3001/upload_file', formData).then(async result => {\n            // access results...\n            this.handleSubmit();\n          });\n        });\n      }\n    };\n\n    this.render = () => {\n      console.log(this.commaDishList); // let dishList = JSON.parse(this.commaDishList);\n      // console.log(dishList);\n\n      let redirectVar = null;\n      let foodPicImage = null;\n      const _this$state = this.state,\n            description = _this$state.description,\n            selectedFile = _this$state.selectedFile;\n\n      if (this.state.foodName.length) {}\n\n      if (this.state.nextPage) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/NearbyRestaurants\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        });\n      } else if (this.state.recipe) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/RecipePage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        });\n      } else {\n        if (this.state.foodPic != null && this.state.foodName.length) {\n          foodPicImage = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"imageBackground\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"float-left\",\n            src: this.state.foodPic,\n            width: \"200\",\n            height: \"200\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }), React.createElement(\"h3\", {\n            className: \"float-left mt-10\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, \"\\xA0\\xA0\\xA0\\xA0\", this.state.foodName)), React.createElement(\"button\", {\n            type: \"button\",\n            onClick: this.findRestaurants,\n            className: \"btn btn-primary mt-5\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, \"Find Restaurants that Serve this Dish\"), React.createElement(\"button\", {\n            type: \"button\",\n            onClick: this.findRecipe,\n            className: \"btn btn-success mt-5\",\n            id: \"cookYourself\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, \"Cook it Yourself!\"));\n        } // else {\n        //     foodPicImage =\n        //         <div>\n        //             <span className=\"imageBackground\">\n        //                 {/* <img className=\"float-left\" src={this.state.foodPic} width=\"200\" height=\"200\" /> */}\n        //                 <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;Sorry! If You're Sure This is a Food Item, Shoot us an Email and we'll Fix it ASAP</h3>\n        //             </span>\n        //             <button type=\"button\" onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n        //             <button type=\"button\" onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n        //         </div> \n        // }\n\n\n        console.log(foodPicImage);\n        redirectVar = React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar navbar-dark bg-primary sticky-top mb-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          \"data-target\": \"#navbarCollapse\",\n          \"data-toggle\": \"collapse\",\n          class: \"navbar-toggle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        })), React.createElement(\"a\", {\n          href: \"#\",\n          class: \"navbar-brand\",\n          id: \"navText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"SeeFood\")), React.createElement(\"div\", {\n          id: \"navbarCollapse\",\n          class: \"collapse navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"nav navbar-nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          class: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          id: \"navText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Home\"))), React.createElement(\"form\", {\n          class: \"navbar-form navbar-left\",\n          onSubmit: this.findRecipeSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"input-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          placeholder: \"Search Recipes\",\n          onChange: this.searchChangeHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"input-group-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-default\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"glyphicon glyphicon-search\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }))))))), React.createElement(\"div\", {\n          className: \"bodyContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"background-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"getFile\",\n          name: \"file\",\n          type: \"file\",\n          name: \"selectedFile\",\n          className: \"hide\",\n          onChange: this.onChange,\n          multiple: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"pageTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          class: \"rainbowText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, \"Like What You See? \"), React.createElement(\"h1\", {\n          class: \"rainbowText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Don't Know What It Is?\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, \"Upload An Image to find out!\")), React.createElement(\"button\", {\n          type: \"submit\",\n          onClick: this.uploadFile,\n          className: \"btn btn-primary mt-20\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, \"Upload\"))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"box2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, foodPicImage)));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, redirectVar);\n    };\n\n    this.dishesList = '[1. Paella 2. Calamari (Fried Squid) 3. Chicken Tikka Masala 4. Escargots 5. Frog Legs 6. Yorkshire Pudding 7. Burrito 8. Fried Green Tomatoes 9. Tortilla (Spanish) 10. Stinking Bishop 11. Goulash 12. Pizza 13. Pasta Fagioli 14. Chorizo Riojano 15. Jamon Iberico De Bellota 16. Eggs Benedict 17. Egg Fried Rice 18. Spring Roll 19. Daar Chawal 20. Baclava 21. Quiche Lorraine 22. Oxtail Soup 23. Alligator 24. Alligator Jerky 25. Kangaroo 26. Ostrich 27. Guinea Fowl 28. Guinea Pig 29. Ratatouille 30. Thai Green Curry 31. Bratwurst 32. Twinkies 33. Cream Tea 34. Cucumber Sandwiches 35. Sugarcane 36. Gyros 37. Souvlaki 38. Bocadillo De Calamares 39. Octopus 40. Anchovies 41. Olives 42. Aged Balsamic Vinegar 43. Strawberries and Cream 44. Feta Cheese 45. Couscous 46. Thai Iced Tea 47. Chinese Five Spice 48. Chicken and Waffles 49. French Onion Soup 50. English Mustard 51. English Breakfast 52. Pumpkin Pie 53. Polvorones (Mexican Wedding Cookies) 54. Polenta 55. Sichuan Hot Pot 56. Lancashire Hot Pot 57. Scouse 58. Three Musketeers 59. Indian Fry Bread 60. Key Lime Pie 61. Kraut 62. Churros 63. Spicy Tuna Sushi 64. Awabi (あわび) 65. Arugula 66. Ataulfo Mango 67. Aunt Bessie\\'s 68. Aioli 69. Apple Jacks 70. Asian Pear 71. African Cucumber 72. Agedashi Tōfu 73. Ahmad Tea 74. Ajowan 75. Akbar Mashti(Saffron Ice Cream) 76. Alfalfa Sprouts 77. Azuki Bean 78. Actimel 79. Avocado Paste 80. Absinthe 81. Aniseed 82. Reese\\'s Peanut Butter Cups 83. Rye Whiskey 84. Rugelach 85. Ricotta 86. Root Beer Float 87. Nesquik RD 88. Rhubarb Crumble 89. Texas Roadhouse 90. Trifle 91. Twizzlers 92. Turkey Jerky 93. Tiramisu 94. Toblerone 95. Tapioca 96. Taco Bell 97. Tabasco 98. Tsukemono (漬け物) 99. Sweet Potato Pie 100. Squirrel 101. Squid 102. Star Fruit 103. Stella Artois 104. Stilton 105. Stuffed Peppers With Feta 106. Stollen 107. Sushi 108. Sydney Rock Oyster 109. Souffle 110. Soda Bread 111. Cranberry Sauce 112. Falafel Sandwich 113. Grilled Cheese Sandwich 114. Hijiki 115. Liver 116. Lobster Roll 117. Haggis 118. Huevos Rancheros 119. Hummus 120. Patatas Bravas 121. Spam 122. Spanish Rice 123. Bird\\'s Nest Soup 124. Foster\\'s 125. San Miguel Pale Pilsen 126. Shrimp and Grits 127. Olive Oil 128. Chicken Pot Pie 129. Rye Bread 130. Braised Lamb Cheeks 131. Licorice Ice Cream 132. Shirako 133. Greek Yogurt 134. Greek Salad 135. Bruschetta 136. Corndogs 137. Pad Kee Mao 138. Khao Pad (Fried Rice) 139. Korokke, Croquette 140. Gorgonzola 141. French Fries 142. Deviled Ham 143. Vita-Wheat 144. Whelks 145. Frappuccino 146. Tapenade 147. Soy Sauce 148. Chow Mein 149. Krispy Kreme Glazed Donut 150. Pretzels]';\n    this.noNumList = this.dishesList.replace(/\\d+/g, '');\n    this.tmp = this.noNumList.replace(/\\./, '');\n    this.commaDishList = this.tmp.replace(/\\./g, ','); // maintain the state required for this component\n\n    this.state = {\n      profileInfo: [],\n      selectedFile: '',\n      selectedFile: '',\n      images: '',\n      foodName: '',\n      nextPage: false,\n      foodPic: null,\n      recipe: false,\n      lat: 0,\n      long: 0\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.uploadFile = this.uploadFile.bind(this);\n    this.findRestaurants = this.findRestaurants.bind(this);\n    this.findRecipe = this.findRecipe.bind(this);\n    this.findRecipeSearch = this.findRecipeSearch.bind(this);\n    this.searchChangeHandler = this.searchChangeHandler.bind(this);\n    this.findLocation = this.findLocation.bind(this); // Bind the handlers to this class\n  }\n\n  async findRestaurants() {\n    await this.findLocation();\n    this.setState({\n      nextPage: true\n    });\n  }\n\n  async findLocation() {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        console.log(position.coords.latitude);\n        console.log(position.coords.longitude);\n        localStorage.setItem('latitude', position.coords.latitude);\n        localStorage.setItem('longitude', position.coords.longitude);\n      });\n    } else {\n      alert(\"Denied Permission\");\n    }\n  }\n\n  async findRecipe() {\n    this.setState({\n      recipe: true\n    });\n  }\n\n  async findRecipeSearch() {\n    this.setState({\n      recipe: true\n    });\n    localStorage.setItem(\"foodName\", this.state.foodName);\n  }\n\n  async searchChangeHandler(e) {\n    this.setState({\n      foodName: e.target.value\n    });\n  }\n\n  async handleSubmit() {\n    console.log(\"on submit\");\n    await axios.post('http://localhost:3001/recognizeImage').then(response => {\n      this.setState({\n        foodName: response.data\n      });\n      localStorage.setItem(\"foodName\", response.data);\n    });\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/ab/Desktop/Semester 4/CMPE 272/cmpe272-Food Recognition and Restaurant Recommendation/frontEnd/src/components/Home/Home.js"],"names":["React","Component","axios","Redirect","logo","Home","constructor","props","uploadFile","e","preventDefault","document","getElementById","click","onChange","target","name","console","log","files","setState","selectedFile","foodPic","URL","createObjectURL","state","formData","FormData","append","defaults","withCredentials","post","then","result","handleSubmit","render","commaDishList","redirectVar","foodPicImage","description","foodName","length","nextPage","recipe","findRestaurants","findRecipe","findRecipeSearch","searchChangeHandler","dishesList","noNumList","replace","tmp","profileInfo","images","lat","long","bind","findLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","localStorage","setItem","alert","value","response","data"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport {Redirect} from 'react-router';\n import logo from '../homepageImage.jpg';\n\nclass Home extends Component {\n    //call the constructor method\n    constructor(props) {\n        // Call the constructor of Super class i.e The Component\n        super(props);\n        this.dishesList = '[1. Paella 2. Calamari (Fried Squid) 3. Chicken Tikka Masala 4. Escargots 5. Frog Legs 6. Yorkshire Pudding 7. Burrito 8. Fried Green Tomatoes 9. Tortilla (Spanish) 10. Stinking Bishop 11. Goulash 12. Pizza 13. Pasta Fagioli 14. Chorizo Riojano 15. Jamon Iberico De Bellota 16. Eggs Benedict 17. Egg Fried Rice 18. Spring Roll 19. Daar Chawal 20. Baclava 21. Quiche Lorraine 22. Oxtail Soup 23. Alligator 24. Alligator Jerky 25. Kangaroo 26. Ostrich 27. Guinea Fowl 28. Guinea Pig 29. Ratatouille 30. Thai Green Curry 31. Bratwurst 32. Twinkies 33. Cream Tea 34. Cucumber Sandwiches 35. Sugarcane 36. Gyros 37. Souvlaki 38. Bocadillo De Calamares 39. Octopus 40. Anchovies 41. Olives 42. Aged Balsamic Vinegar 43. Strawberries and Cream 44. Feta Cheese 45. Couscous 46. Thai Iced Tea 47. Chinese Five Spice 48. Chicken and Waffles 49. French Onion Soup 50. English Mustard 51. English Breakfast 52. Pumpkin Pie 53. Polvorones (Mexican Wedding Cookies) 54. Polenta 55. Sichuan Hot Pot 56. Lancashire Hot Pot 57. Scouse 58. Three Musketeers 59. Indian Fry Bread 60. Key Lime Pie 61. Kraut 62. Churros 63. Spicy Tuna Sushi 64. Awabi (あわび) 65. Arugula 66. Ataulfo Mango 67. Aunt Bessie\\'s 68. Aioli 69. Apple Jacks 70. Asian Pear 71. African Cucumber 72. Agedashi Tōfu 73. Ahmad Tea 74. Ajowan 75. Akbar Mashti(Saffron Ice Cream) 76. Alfalfa Sprouts 77. Azuki Bean 78. Actimel 79. Avocado Paste 80. Absinthe 81. Aniseed 82. Reese\\'s Peanut Butter Cups 83. Rye Whiskey 84. Rugelach 85. Ricotta 86. Root Beer Float 87. Nesquik RD 88. Rhubarb Crumble 89. Texas Roadhouse 90. Trifle 91. Twizzlers 92. Turkey Jerky 93. Tiramisu 94. Toblerone 95. Tapioca 96. Taco Bell 97. Tabasco 98. Tsukemono (漬け物) 99. Sweet Potato Pie 100. Squirrel 101. Squid 102. Star Fruit 103. Stella Artois 104. Stilton 105. Stuffed Peppers With Feta 106. Stollen 107. Sushi 108. Sydney Rock Oyster 109. Souffle 110. Soda Bread 111. Cranberry Sauce 112. Falafel Sandwich 113. Grilled Cheese Sandwich 114. Hijiki 115. Liver 116. Lobster Roll 117. Haggis 118. Huevos Rancheros 119. Hummus 120. Patatas Bravas 121. Spam 122. Spanish Rice 123. Bird\\'s Nest Soup 124. Foster\\'s 125. San Miguel Pale Pilsen 126. Shrimp and Grits 127. Olive Oil 128. Chicken Pot Pie 129. Rye Bread 130. Braised Lamb Cheeks 131. Licorice Ice Cream 132. Shirako 133. Greek Yogurt 134. Greek Salad 135. Bruschetta 136. Corndogs 137. Pad Kee Mao 138. Khao Pad (Fried Rice) 139. Korokke, Croquette 140. Gorgonzola 141. French Fries 142. Deviled Ham 143. Vita-Wheat 144. Whelks 145. Frappuccino 146. Tapenade 147. Soy Sauce 148. Chow Mein 149. Krispy Kreme Glazed Donut 150. Pretzels]';\n        this.noNumList = this.dishesList.replace(/\\d+/g, '');\n        this.tmp = this.noNumList.replace(/\\./, '');\n        this.commaDishList = this.tmp.replace(/\\./g, ',');\n        // maintain the state required for this component\n        this.state = {\n            profileInfo: [],\n            selectedFile: '',\n            selectedFile: '',\n            images: '',\n            foodName: '',\n            nextPage: false,\n            foodPic : null,\n            recipe: false,\n            lat: 0,\n            long: 0\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.uploadFile = this.uploadFile.bind(this);\n        this.findRestaurants = this.findRestaurants.bind(this);\n        this.findRecipe = this.findRecipe.bind(this);\n        this.findRecipeSearch = this.findRecipeSearch.bind(this);\n        this.searchChangeHandler = this.searchChangeHandler.bind(this);\n        this.findLocation = this.findLocation.bind(this);\n        // Bind the handlers to this class\n    }\n\n    uploadFile = (e) => {\n        e.preventDefault();\n        document.getElementById('getFile').click();\n    }\n    async findRestaurants () {\n        await this.findLocation();\n        this.setState({\n        nextPage: true\n       });\n    }\n    async findLocation(){\n        if(\"geolocation\" in navigator){\n            navigator.geolocation.getCurrentPosition((position)=>{\n                console.log(position.coords.latitude);\n                console.log(position.coords.longitude);\n                localStorage.setItem('latitude', position.coords.latitude);\n                localStorage.setItem('longitude', position.coords.longitude);\n            });\n        }\n        else {\n            alert(\"Denied Permission\");\n        }\n    }\n    async findRecipe () {\n        this.setState({\n            recipe: true\n        });\n    }\n    async findRecipeSearch () {\n        this.setState({\n            recipe: true\n        });\n        localStorage.setItem(\"foodName\", this.state.foodName);\n    }\n\n    async searchChangeHandler(e) {\n        this.setState({\n            foodName: e.target.value\n        })\n    }\n\n    onChange = (async (e) => {\n        if (e.target.name == 'selectedFile') {\n            console.log(e.target.files);\n            this.setState({\n                selectedFile: e.target.files[0],\n                foodPic: URL.createObjectURL(e.target.files[0])\n            }, (async() => {\n                const { selectedFile } = this.state;\n                let formData = new FormData();\n                formData.append('selectedFile', selectedFile);\n                console.log(\"selectedFile file\",this.state.selectedFile);\n               \n                console.log(\"image file\",formData);\n                axios.defaults.withCredentials = true;\n                await axios.post('http://localhost:3001/upload_file', formData)\n                .then(async (result) => {\n                  // access results...\n                  this.handleSubmit();\n                });\n            }))\n        }\n    })\n\n     async handleSubmit() {\n         console.log(\"on submit\");\n         await axios.post('http://localhost:3001/recognizeImage')\n            .then(response => {\n                 this.setState ({\n                     foodName: response.data\n                 });\n                 localStorage.setItem(\"foodName\", response.data);\n            });\n    }\n\n   \n\n    render = () => {\n        console.log(this.commaDishList);\n        // let dishList = JSON.parse(this.commaDishList);\n        // console.log(dishList);\n        let redirectVar = null;\n        let foodPicImage = null;\n        const { description, selectedFile } = this.state;\n        if(this.state.foodName.length) {\n        }\n        if (this.state.nextPage) {\n            redirectVar = <Redirect to= \"/NearbyRestaurants\"/>\n        }\n        else if(this.state.recipe){\n            redirectVar = <Redirect to= \"/RecipePage\"/>\n        }\n        else {\n            if(this.state.foodPic != null && this.state.foodName.length) {\n                foodPicImage = \n                <div>\n                <span className = \"imageBackground\">\n                    <img className=\"float-left\" src = {this.state.foodPic} width=\"200\" height=\"200\"/>\n                    <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;{this.state.foodName}</h3>\n                </span>\n                <button type=\"button\"  onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n                <button type=\"button\"  onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n                </div>\n            }\n            // else {\n            //     foodPicImage =\n            //         <div>\n            //             <span className=\"imageBackground\">\n            //                 {/* <img className=\"float-left\" src={this.state.foodPic} width=\"200\" height=\"200\" /> */}\n            //                 <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;Sorry! If You're Sure This is a Food Item, Shoot us an Email and we'll Fix it ASAP</h3>\n            //             </span>\n            //             <button type=\"button\" onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n            //             <button type=\"button\" onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n            //         </div> \n            // }\n            console.log(foodPicImage);\n            redirectVar =  <div class=\"container\">\n                {/* <div className=\"navbar navbar-dark bg-primary mb-0 container sticky-top\"> */}\n                <div class=\"navbar navbar-dark bg-primary sticky-top mb-0\">\n                    \n        <div class=\"navbar-header\">\n            <button type=\"button\" data-target=\"#navbarCollapse\" data-toggle=\"collapse\" class=\"navbar-toggle\">\n                <span class=\"sr-only\">Toggle navigation</span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n            </button>\n            <a href=\"#\" class=\"navbar-brand\" id=\"navText\">SeeFood</a>\n        </div>\n                    <div id=\"navbarCollapse\" class=\"collapse navbar-collapse\">\n            <ul class=\"nav navbar-nav\">\n                    <li class=\"active\"><a href=\"#\" id=\"navText\">Home</a></li>\n                {/* <li><a href=\"#\">Profile</a></li>\n                <li class=\"dropdown\">\n                    <a data-toggle=\"dropdown\" class=\"dropdown-toggle\" href=\"#\">Messages <b class=\"caret\"></b></a>\n                    <ul class=\"dropdown-menu\">\n                        <li><a href=\"#\">Inbox</a></li>\n                        <li><a href=\"#\">Drafts</a></li>\n                        <li><a href=\"#\">Sent Items</a></li>\n                        <li class=\"divider\"></li>\n                        <li><a href=\"#\">Trash</a></li>\n                    </ul>\n                </li> */}\n            </ul>\n            <form class=\"navbar-form navbar-left\" onSubmit={this.findRecipeSearch}>\n                <div class=\"input-group\">\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Recipes\" onChange={this.searchChangeHandler}/>\n                    <span class=\"input-group-btn\">\n                        <button type=\"button\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-search\"></span></button>\n                    </span>\n                </div>\n            </form>\n        </div>\n    </div>\n            <div className=\"bodyContainer\">\n                <div className=\"background-image\">\n                     {/* <img src = {this.props.profile.profilePic} height=\"50\" className=\"profileimage\"/> */}\n                     {/* <div className=\"pt-15\"><input type=\"text\" onChange = {this.searchChangeHandler} className=\"col-xs-3 ml-25\" placeholder=\"Where do you want to go?\"/></div> */}\n                     <div className=\"\">\n                        \n                        <input  id=\"getFile\" name=\"file\" type=\"file\" name=\"selectedFile\" className = \"hide\" onChange={this.onChange} multiple/>\n                            <div className=\"pageTitle\">\n                                <h1 class=\"rainbowText\">Like What You See? </h1>\n                                <h1 class=\"rainbowText\">Don't Know What It Is?</h1>\n                                <h3>Upload An Image to find out!</h3>\n                            </div>\n                        <button type=\"submit\" onClick={this.uploadFile} className=\"btn btn-primary mt-20\">Upload</button>\n                    </div>\n                    \n                </div>\n                <br/>\n                <div className=\"box2\">\n                {foodPicImage}\n                \n                </div>\n            </div>\n                </div>;\n        }\n        return(\n            <div>\n                {redirectVar}\n            </div>\n           \n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}