{"ast":null,"code":"var _jsxFileName = \"/Users/ab/Desktop/Semester 4/CMPE 272/cmpe272-Food Recognition and Restaurant Recommendation/frontEnd/src/components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport logo from '../homepageImage.jpg';\n\nclass Home extends Component {\n  //call the constructor method\n  constructor(props) {\n    // Call the constructor of Super class i.e The Component\n    super(props); // maintain the state required for this component\n\n    this.uploadFile = e => {\n      e.preventDefault();\n      document.getElementById('getFile').click();\n    };\n\n    this.onChange = async e => {\n      if (e.target.name == 'selectedFile') {\n        console.log(e.target.files);\n        this.setState({\n          selectedFile: e.target.files[0],\n          foodPic: URL.createObjectURL(e.target.files[0])\n        }, async () => {\n          const selectedFile = this.state.selectedFile;\n          let formData = new FormData();\n          formData.append('selectedFile', selectedFile);\n          console.log(\"selectedFile file\", this.state.selectedFile);\n          console.log(\"image file\", formData);\n          axios.defaults.withCredentials = true;\n          await axios.post('http://localhost:3001/upload_file', formData).then(async result => {\n            // access results...\n            this.handleSubmit();\n          });\n        });\n      }\n    };\n\n    this.render = () => {\n      let redirectVar = null;\n      let foodPicImage = null;\n      const _this$state = this.state,\n            description = _this$state.description,\n            selectedFile = _this$state.selectedFile;\n\n      if (this.state.foodName.length) {}\n\n      if (this.state.nextPage) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/NearbyRestaurants\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        });\n      } else if (this.state.recipe) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/RecipePage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n      } else {\n        if (this.state.foodPic != null && this.state.foodName.length) {\n          foodPicImage = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"imageBackground\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"float-left\",\n            src: this.state.foodPic,\n            width: \"200\",\n            height: \"200\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }), React.createElement(\"h3\", {\n            className: \"float-left mt-10\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \"\\xA0\\xA0\\xA0\\xA0\", this.state.foodName)), React.createElement(\"button\", {\n            type: \"button\",\n            onClick: this.findRestaurants,\n            className: \"btn btn-primary mt-5\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, \"Find Restaurants that Serve this Dish\"), React.createElement(\"button\", {\n            type: \"button\",\n            onClick: this.findRecipe,\n            className: \"btn btn-success mt-5\",\n            id: \"cookYourself\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, \"Cook it Yourself!\"));\n        } // else {\n        //     foodPicImage =\n        //         <div>\n        //             <span className=\"imageBackground\">\n        //                 {/* <img className=\"float-left\" src={this.state.foodPic} width=\"200\" height=\"200\" /> */}\n        //                 <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;Sorry! If You're Sure This is a Food Item, Shoot us an Email and we'll Fix it ASAP</h3>\n        //             </span>\n        //             <button type=\"button\" onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n        //             <button type=\"button\" onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n        //         </div> \n        // }\n\n\n        console.log(foodPicImage);\n        redirectVar = React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-dark bg-primary mb-0 container sticky-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar-header sticky-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          \"data-target\": \"#navbarCollapse\",\n          \"data-toggle\": \"collapse\",\n          class: \"navbar-toggle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        })), React.createElement(\"a\", {\n          href: \"#\",\n          class: \"navbar-brand\",\n          id: \"navText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"SeeFood\")), React.createElement(\"div\", {\n          id: \"navbarCollapse\",\n          class: \"collapse navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"nav navbar-nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          class: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          id: \"navText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Home\"))), React.createElement(\"form\", {\n          class: \"navbar-form navbar-left\",\n          onSubmit: this.findRecipeSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"input-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          placeholder: \"Search Recipes\",\n          onChange: this.searchChangeHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"input-group-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-default\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"glyphicon glyphicon-search\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }))))))), React.createElement(\"div\", {\n          className: \"bodyContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"background-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"getFile\",\n          name: \"file\",\n          type: \"file\",\n          name: \"selectedFile\",\n          className: \"hide\",\n          onChange: this.onChange,\n          multiple: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"pageTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, \"Like What You See? \"), React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \"Don't Know What It Is?\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"Upload An Image to find out!\")), React.createElement(\"button\", {\n          type: \"submit\",\n          onClick: this.uploadFile,\n          className: \"btn btn-primary mt-20\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, \"Upload\"))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"box2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, foodPicImage)));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, redirectVar);\n    };\n\n    this.state = {\n      profileInfo: [],\n      selectedFile: '',\n      selectedFile: '',\n      images: '',\n      foodName: '',\n      nextPage: false,\n      foodPic: null,\n      recipe: false,\n      lat: 0,\n      long: 0\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.uploadFile = this.uploadFile.bind(this);\n    this.findRestaurants = this.findRestaurants.bind(this);\n    this.findRecipe = this.findRecipe.bind(this);\n    this.findRecipeSearch = this.findRecipeSearch.bind(this);\n    this.searchChangeHandler = this.searchChangeHandler.bind(this);\n    this.findLocation = this.findLocation.bind(this); // Bind the handlers to this class\n  }\n\n  async findRestaurants() {\n    await this.findLocation();\n    this.setState({\n      nextPage: true\n    });\n  }\n\n  async findLocation() {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        console.log(position.coords.latitude);\n        console.log(position.coords.longitude);\n        localStorage.setItem('latitude', position.coords.latitude);\n        localStorage.setItem('longitude', position.coords.longitude);\n      });\n    } else {\n      alert(\"Denied Permission\");\n    }\n  }\n\n  async findRecipe() {\n    this.setState({\n      recipe: true\n    });\n  }\n\n  async findRecipeSearch() {\n    this.setState({\n      recipe: true\n    });\n    localStorage.setItem(\"foodName\", this.state.foodName);\n  }\n\n  async searchChangeHandler(e) {\n    this.setState({\n      foodName: e.target.value\n    });\n  }\n\n  async handleSubmit() {\n    console.log(\"on submit\");\n    await axios.post('http://localhost:3001/recognizeImage').then(response => {\n      this.setState({\n        foodName: response.data\n      });\n      localStorage.setItem(\"foodName\", response.data);\n    });\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/ab/Desktop/Semester 4/CMPE 272/cmpe272-Food Recognition and Restaurant Recommendation/frontEnd/src/components/Home/Home.js"],"names":["React","Component","axios","Redirect","logo","Home","constructor","props","uploadFile","e","preventDefault","document","getElementById","click","onChange","target","name","console","log","files","setState","selectedFile","foodPic","URL","createObjectURL","state","formData","FormData","append","defaults","withCredentials","post","then","result","handleSubmit","render","redirectVar","foodPicImage","description","foodName","length","nextPage","recipe","findRestaurants","findRecipe","findRecipeSearch","searchChangeHandler","profileInfo","images","lat","long","bind","findLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","localStorage","setItem","alert","value","response","data"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport {Redirect} from 'react-router';\n import logo from '../homepageImage.jpg';\n\nclass Home extends Component {\n    //call the constructor method\n    constructor(props) {\n        // Call the constructor of Super class i.e The Component\n        super(props);\n\n        // maintain the state required for this component\n        this.state = {\n            profileInfo: [],\n            selectedFile: '',\n            selectedFile: '',\n            images: '',\n            foodName: '',\n            nextPage: false,\n            foodPic : null,\n            recipe: false,\n            lat: 0,\n            long: 0\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.uploadFile = this.uploadFile.bind(this);\n        this.findRestaurants = this.findRestaurants.bind(this);\n        this.findRecipe = this.findRecipe.bind(this);\n        this.findRecipeSearch = this.findRecipeSearch.bind(this);\n        this.searchChangeHandler = this.searchChangeHandler.bind(this);\n        this.findLocation = this.findLocation.bind(this);\n        // Bind the handlers to this class\n    }\n\n    uploadFile = (e) => {\n        e.preventDefault();\n        document.getElementById('getFile').click();\n    }\n    async findRestaurants () {\n        await this.findLocation();\n        this.setState({\n        nextPage: true\n       });\n    }\n    async findLocation(){\n        if(\"geolocation\" in navigator){\n            navigator.geolocation.getCurrentPosition((position)=>{\n                console.log(position.coords.latitude);\n                console.log(position.coords.longitude);\n                localStorage.setItem('latitude', position.coords.latitude);\n                localStorage.setItem('longitude', position.coords.longitude);\n            });\n        }\n        else {\n            alert(\"Denied Permission\");\n        }\n    }\n    async findRecipe () {\n        this.setState({\n            recipe: true\n        });\n    }\n    async findRecipeSearch () {\n        this.setState({\n            recipe: true\n        });\n        localStorage.setItem(\"foodName\", this.state.foodName);\n    }\n\n    async searchChangeHandler(e) {\n        this.setState({\n            foodName: e.target.value\n        })\n    }\n\n    onChange = (async (e) => {\n        if (e.target.name == 'selectedFile') {\n            console.log(e.target.files);\n            this.setState({\n                selectedFile: e.target.files[0],\n                foodPic: URL.createObjectURL(e.target.files[0])\n            }, (async() => {\n                const { selectedFile } = this.state;\n                let formData = new FormData();\n                formData.append('selectedFile', selectedFile);\n                console.log(\"selectedFile file\",this.state.selectedFile);\n               \n                console.log(\"image file\",formData);\n                axios.defaults.withCredentials = true;\n                await axios.post('http://localhost:3001/upload_file', formData)\n                .then(async (result) => {\n                  // access results...\n                  this.handleSubmit();\n                });\n            }))\n        }\n    })\n\n     async handleSubmit() {\n         console.log(\"on submit\");\n         await axios.post('http://localhost:3001/recognizeImage')\n            .then(response => {\n                 this.setState ({\n                     foodName: response.data\n                 });\n                 localStorage.setItem(\"foodName\", response.data);\n            });\n    }\n\n   \n\n    render = () => {\n        let redirectVar = null;\n        let foodPicImage = null;\n        const { description, selectedFile } = this.state;\n        if(this.state.foodName.length) {\n        }\n        if (this.state.nextPage) {\n            redirectVar = <Redirect to= \"/NearbyRestaurants\"/>\n        }\n        else if(this.state.recipe){\n            redirectVar = <Redirect to= \"/RecipePage\"/>\n        }\n        else {\n            if(this.state.foodPic != null && this.state.foodName.length) {\n                foodPicImage = \n                <div>\n                <span className = \"imageBackground\">\n                    <img className=\"float-left\" src = {this.state.foodPic} width=\"200\" height=\"200\"/>\n                    <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;{this.state.foodName}</h3>\n                </span>\n                <button type=\"button\"  onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n                <button type=\"button\"  onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n                </div>\n            }\n            // else {\n            //     foodPicImage =\n            //         <div>\n            //             <span className=\"imageBackground\">\n            //                 {/* <img className=\"float-left\" src={this.state.foodPic} width=\"200\" height=\"200\" /> */}\n            //                 <h3 className=\"float-left mt-10\">&nbsp;&nbsp;&nbsp;&nbsp;Sorry! If You're Sure This is a Food Item, Shoot us an Email and we'll Fix it ASAP</h3>\n            //             </span>\n            //             <button type=\"button\" onClick={this.findRestaurants} className=\"btn btn-primary mt-5\">Find Restaurants that Serve this Dish</button>\n            //             <button type=\"button\" onClick={this.findRecipe} className=\"btn btn-success mt-5\" id=\"cookYourself\">Cook it Yourself!</button>\n            //         </div> \n            // }\n            console.log(foodPicImage);\n            redirectVar =  <div class=\"container\">\n                <div className=\"navbar navbar-dark bg-primary mb-0 container sticky-top\">\n\n        <div class=\"navbar-header sticky-top\">\n            <button type=\"button\" data-target=\"#navbarCollapse\" data-toggle=\"collapse\" class=\"navbar-toggle\">\n                <span class=\"sr-only\">Toggle navigation</span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n            </button>\n            <a href=\"#\" class=\"navbar-brand\" id=\"navText\">SeeFood</a>\n        </div>\n                    <div id=\"navbarCollapse\" class=\"collapse navbar-collapse\">\n            <ul class=\"nav navbar-nav\">\n                    <li class=\"active\"><a href=\"#\" id=\"navText\">Home</a></li>\n                {/* <li><a href=\"#\">Profile</a></li>\n                <li class=\"dropdown\">\n                    <a data-toggle=\"dropdown\" class=\"dropdown-toggle\" href=\"#\">Messages <b class=\"caret\"></b></a>\n                    <ul class=\"dropdown-menu\">\n                        <li><a href=\"#\">Inbox</a></li>\n                        <li><a href=\"#\">Drafts</a></li>\n                        <li><a href=\"#\">Sent Items</a></li>\n                        <li class=\"divider\"></li>\n                        <li><a href=\"#\">Trash</a></li>\n                    </ul>\n                </li> */}\n            </ul>\n            <form class=\"navbar-form navbar-left\" onSubmit={this.findRecipeSearch}>\n                <div class=\"input-group\">\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Recipes\" onChange={this.searchChangeHandler}/>\n                    <span class=\"input-group-btn\">\n                        <button type=\"button\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-search\"></span></button>\n                    </span>\n                </div>\n            </form>\n        </div>\n    </div>\n            <div className=\"bodyContainer\">\n                <div className=\"background-image\">\n                     {/* <img src = {this.props.profile.profilePic} height=\"50\" className=\"profileimage\"/> */}\n                     {/* <div className=\"pt-15\"><input type=\"text\" onChange = {this.searchChangeHandler} className=\"col-xs-3 ml-25\" placeholder=\"Where do you want to go?\"/></div> */}\n                     <div className=\"\">\n                        \n                        <input  id=\"getFile\" name=\"file\" type=\"file\" name=\"selectedFile\" className = \"hide\" onChange={this.onChange} multiple/>\n                            <div className=\"pageTitle\">\n                                <h1>Like What You See? </h1>\n                                <h1>Don't Know What It Is?</h1>\n                                <h3>Upload An Image to find out!</h3>\n                            </div>\n                        <button type=\"submit\" onClick={this.uploadFile} className=\"btn btn-primary mt-20\">Upload</button>\n                    </div>\n                    \n                </div>\n                <br/>\n                <div className=\"box2\">\n                {foodPicImage}\n                \n                </div>\n            </div>\n                </div>;\n        }\n        return(\n            <div>\n                {redirectVar}\n            </div>\n           \n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}